# ApplicationDatabases

Do your database creation and destruction reproducibly

```
New-PostgresApplicationDatabase.ps1
Set-PostgresTemplate1DefaultLocale.ps1
```

```
NAME
    New-PostgresApplicationDatabase.ps1
    
SYNOPSIS
    Create a Postgres application database and roles for owner, application, and application_readonly
    
    
SYNTAX
    New-PostgresApplicationDatabase.ps1 [[-databaseName] <Object>] 
    [[-postgresHost] <Object>] [[-databaseOwner] <String>] [[-appAccount] <Object>] [[-appAccountPassword] <String>] 
    [[-readonlyAppAccount] <Object>] [[-readonlyAppAccountPassword] <String>] [[-dbEncoding] <Object>] [[-dbLocale] <Object>] 
    [-createViewAndDropConnectionFunctions] [-addPlv8] [-addTrigram] [[-addUUID] <Boolean>] [[-adminUser] <String>] [-dryRun] 
    [-down] [<CommonParameters>]
    
    
DESCRIPTION
    Create a Postgres application database and create roles for owner, application, and application_readonly.
    
    - the owner role has no login. the user that runs this script will be assigned to that role
    - the application and application_readonly roles will be login roles with password either specified by you
      or generated by this script. 
    - If the passwords are generated by this script, they will be printed as the first 
      2 lines of output of this script. 
    - If the script scram_postgres_password.py exists in the path, the passwords will be scram encrypted.
    
    - Optionally install common extensions UUID, plv8 and trigram
    - Optionally create functions for view and drop database connections
    

RELATED LINKS
    https://gist.github.com/chrisfcarroll/ed3f8c368ad6bdbbe8a71d4c3afa48f7
    For Scram encryption (requires python3): https://gist.github.com/chrisfcarroll/4c819af67ec5485ed0d6aef7863562a4 


```

```
NAME
    Set-PostgresTemplate1DefaultLocale.ps1
    
SYNOPSIS
    Update Postgres template1 (which is the default template used by Create Database)
    to your preferred Locale settings.
    
SYNTAX
    Set-PostgresTemplate1DefaultLocale.ps1 [[-dbLocale] <Object>] 
    [[-postgresHost] <Object>] [[-adminUser] <String>] [[-dbEncoding] <Object>] [-createViewAndDropConnectionFunctions] 
    [-addPlv8] [-addTrigram] [-addUUID] [-dryRun] [<CommonParameters>]

```